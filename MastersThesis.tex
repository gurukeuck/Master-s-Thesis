\documentclass[11pt,DIV12,BCOR8,openany,a4paper]{book}

% use this declaration to set specific page margins
% \usepackage[a4paper , twoside, lmargin = {2.7cm} , rmargin = {2.9cm} , tmargin = {2.7cm} , bmargin = {4.6cm} ]{geometry}
\usepackage[a4paper, twoside, bindingoffset=1cm, head=17pt]{geometry}
%\usepackage[a4paper]{geometry}
\usepackage[numbers]{natbib} %numbers for numerical citations https://www.overleaf.com/learn/latex/Bibliography_management_with_natbib
% \usepackage[title]{appendix}
\usepackage[nottoc]{tocbibind} % include bibliography in table of contents. options: [nottoc, notlof, notlot]
\usepackage[english]{babel}
\usepackage{bibgerm}       		% german references
\usepackage[utf8x]{inputenc} % german characters
\usepackage{graphicx} 				% it's recommended to use PDF images but you can use JPG or PNG as well
\usepackage{url}           		% format URLs
\usepackage{hyperref} 				% create hyperlinks
\usepackage{epigraph}       % inspirational quotes
\usepackage{dirtytalk} % inline quotes
\usepackage{listings}	% for source code
\lstset{frameround=fttt,language=Python,numbers=left,breaklines=true}
\usepackage{subfig}						% two figures next to each other (example: figure 3a), figure 3b)
% \usepackage{scrpage2}					% header and footer line
% \setlength{\headheight}{1.1\baselineskip} 

% % header and footer line - no header & footer line on pages where a new chapter starts
% \pagestyle{scrheadings}
% %\ohead{Automatic Service Generation}
% \ohead{\headmark}
% \automark{chapter}
% \ihead{}
% % \ihead{\headmark}
% % \automark{section}
% % \cfoot[]{\thepage}
% \ifoot[]{\thepage}

\usepackage[
% Breite anpassen.
headwidth=(\the\textwidth+14mm):-7mm:7mm,
footwidth=(\the\textwidth+14mm):-7mm:7mm,
% Dicke der Linien festlegen.
headsepline=0.5pt,
footsepline=0.5pt,
% Linien auch im Seitenstil plain anzeigen.
plainheadsepline=true,
plainfootsepline=true
]{scrlayer-scrpage}
% Alle Inhalte löschen.
\clearpairofpagestyles
% Schriftformatierung zurücksetzen.
\setkomafont{pageheadfoot}{}
% Linien einfärben.
\addtokomafont{headsepline}{\color{gray}}
\addtokomafont{footsepline}{\color{gray}}
% Statische Inhalte.
\ohead{\headmark}
\ofoot*{\pagemark}
% Unterschiedliche Inhalte für gerade/ungerade.
% \refoot*{Thorsten Frommen}
% \lofoot*{Mein Superduperbuch}
    % Inhalte festlegen.
\automark[chapter]{chapter}
\automark*[section]{}
% Eigener Seitenstil (keine Inhalte, aber Linien).
\newpairofpagestyles{preface}{
\clearpairofpagestyles
}

%\ifoot{Future Smart Cam, TU Berlin, Fachgebiet AV, 2009}

% set path where images are stored
\graphicspath{{./img/}}

% \input{./misc/hyphenation} 					% use this file to set explicit hyphenations (doesn't seem to work correctly)
\hyphenation{RecipeIdType}
%% Useful packages
% \usepackage{showframe}
\usepackage{geometry}
\usepackage{diagbox}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
%\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{lscape}
\usepackage{url}
\usepackage{minted}
\usepackage{tabu}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{color, colortbl}
\usepackage{multirow}
\usepackage{longtable,array,ragged2e}
\newcolumntype{P}[1]{>{\RaggedRight\arraybackslash\hspace{0pt}}p{#1}}
\usepackage{eurosym}
\usepackage[]{acronym}
\usepackage{setspace}
\definecolor{mypink1}{rgb}{0.858, 0.188, 0.478}
\definecolor{Gray}{gray}{0.9}

%morphological box
\usepackage{booktabs}
\usepackage{tikz}
\usetikzlibrary{matrix}

\newcommand{\zeilenabstand}{\normalbaselineskip}

\newcommand\grafik[2]{%
  \begin{minipage}{0.1cm}
    \centering\smash{\raisebox{\tabcolsep}{#1}}%
    \includegraphics[width=\linewidth]{#2}%
  \end{minipage}%
}

\tikzset{vp/.style={circle,fill,inner sep=3pt}}
\newcommand\verbindungslinie[3]{
  \foreach [remember=\p as \lastp (initially #2)] \p in {#3}
    \draw[#1](\lastp.center)node[vp]{}--(\p.center)node[vp]{};
}
%end morphological box

% proto files. See https://github.com/aytchell/latex-listings-protobuf
\newcommand{\SetProtoColorsBlueish}{
  % Colors inspired by the NASM style of Robin Eklind
  % https://github.com/mewspring/latex
  \definecolor{proto_basic}{RGB}{0,0,0}             % black
  \definecolor{proto_keyword}{RGB}{0,0,255}         % blue
  \definecolor{proto_type}{RGB}{128,0,0}            % dark red
  \definecolor{proto_options}{RGB}{128,0,128}       % purple
  \definecolor{proto_comment}{RGB}{0,128,0}         % dark green
  \definecolor{proto_string}{RGB}{255,0,0}          % red
  \definecolor{proto_number}{RGB}{108,113,196}      % violet
  \definecolor{proto_ident}{RGB}{0,0,0}             % black
  \definecolor{proto_digits}{RGB}{0,0,128}          % dark blue
  \definecolor{proto_background}{RGB}{255,255,255}  % white
}

\lstdefinelanguage[2]{protobuf}{%
    sensitive=true,%
    morecomment=[l]{//},%
    morecomment=[s]{/*}{*/},%
    morestring=[b]{"},%
    % For the keywords of Protocol Buffers
    % see https://developers.google.com/protocol-buffers/docs/proto
    morekeywords={enum,oneof,map,syntax,public,import,option,package,message,%
        group,optional,required,repeated,default,reserved,extend,extensions,%
        to,max,service,rpc,returns,true,false},%
    % Basic types
    % see https://developers.google.com/protocol-buffers/docs/proto#scalar
    morekeywords=[2]{%
        double,float,int32,int64,uint32,uint64,sint32,sint64,%
        fixed32,fixed64,sfixed32,sfixed64,bool,string,bytes},%
    % Options
    % taken from 'google/protobuf/descriptor.proto'
    morekeywords=[3]{%
        % Generic Options
        deprecated, uninterpreted_option,%
        % File Options
        java_package,java_outer_classname,java_multiple_files,%
        java_generate_equals_and_hash,java_string_check_utf8,optimize_for,%
        go_package,cc_generic_services,java_generic_services,%
        py_generic_services,cc_enable_arenas,obj_class_prefix,%
        csharp_namespace,%
        % Message Options
        message_set_wire_format,no_standard_descriptor_accessor,map_entry,%
        % Field Options
        ctype, packed,jstype,lazy,weak,%
        % Enum Options
        allow_alias}%
}
\lstalias[]{protobuf2}[2]{protobuf}

\lstdefinelanguage[3]{protobuf}[2]{protobuf}{%
    % Language keywords
    % see https://developers.google.com/protocol-buffers/docs/proto3
    deletekeywords={
        % 'group' was marked as deprecated in protobuf2; now it's disallowed
        group,%
        % in protobuf3 the Any type replaces extensions (from protobuf2)
        extensions, to, extend, max,%
        % 'required' is no longer allowed
        required,%
        % 'optional' is default; stating it explicitly is disallowed
        optional,%
        % explicit default values are no longer allowed
        default}%
}
\lstalias[]{protobuf3}[3]{protobuf}


\lstdefinestyle{protobuf}{
  frame=lines,
  xleftmargin=\parindent,
  belowcaptionskip=1\baselineskip,
  backgroundcolor=\color{proto_background},
  basicstyle=\color{proto_basic}\footnotesize\ttfamily,
	keywordstyle=[1]\color{proto_keyword},
	keywordstyle=[2]\color{proto_type},
	keywordstyle=[3]\color{proto_options},
	commentstyle=\color{proto_comment},
	stringstyle=\color{proto_string},
  numberstyle=\color{proto_number}\tiny,
  identifierstyle=\color{proto_ident},
	numbers=left,
	numbersep=5pt,
	breaklines=true,
	showstringspaces=false,
	tabsize=2,
  % This 'literate' block is responsible for colouring numbers
  % appearing in the code
  literate={0}{{\textcolor{proto_digits}{0}}}{1}%
           {1}{{\textcolor{proto_digits}{1}}}{1}%
           {2}{{\textcolor{proto_digits}{2}}}{1}%
           {3}{{\textcolor{proto_digits}{3}}}{1}%
           {4}{{\textcolor{proto_digits}{4}}}{1}%
           {5}{{\textcolor{proto_digits}{5}}}{1}%
           {6}{{\textcolor{proto_digits}{6}}}{1}%
           {7}{{\textcolor{proto_digits}{7}}}{1}%
           {8}{{\textcolor{proto_digits}{8}}}{1}%
           {9}{{\textcolor{proto_digits}{9}}}{1}%
           {.0}{{\textcolor{proto_digits}{.0}}}{2}%
           {.1}{{\textcolor{proto_digits}{.1}}}{2}%
           {.2}{{\textcolor{proto_digits}{.2}}}{2}%
           {.3}{{\textcolor{proto_digits}{.3}}}{2}%
           {.4}{{\textcolor{proto_digits}{.4}}}{2}%
           {.5}{{\textcolor{proto_digits}{.5}}}{2}%
           {.6}{{\textcolor{proto_digits}{.6}}}{2}%
           {.7}{{\textcolor{proto_digits}{.7}}}{2}%
           {.8}{{\textcolor{proto_digits}{.8}}}{2}%
           {.9}{{\textcolor{proto_digits}{.9}}}{2}%
           % We need to add some hacks - otherwise 'listings' would
           % colour (only) the digits in the types instead of the type
           {int32}{{\textcolor{proto_type}{int32}}}{5}%
           {int64}{{\textcolor{proto_type}{int64}}}{5}%
           {uint32}{{\textcolor{proto_type}{uint32}}}{6}%
           {uint64}{{\textcolor{proto_type}{uint64}}}{6}%
           {sint32}{{\textcolor{proto_type}{sint32}}}{6}%
           {sint64}{{\textcolor{proto_type}{sint64}}}{6}%
           {fixed32}{{\textcolor{proto_type}{fixed32}}}{7}%
           {fixed64}{{\textcolor{proto_type}{fixed64}}}{7}%
           {sfixed32}{{\textcolor{proto_type}{sfixed32}}}{8}%
           {sfixed64}{{\textcolor{proto_type}{sfixed64}}}{8}%
           {java_string_check_utf8}{{%
             \textcolor{proto_options}{java_string_check_utf8}}}{2}%
           {\ }{{ }}{1},
	prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
	upquote=true,
}
\SetProtoColorsBlueish{}
%end proto files

\onehalfspacing
\Huge
\begin{document}
% ---------------------------------------------------------------
\frontmatter
    \include{./misc/titlepage}
   	\thispagestyle{empty}
    \cleardoublepage
    
    \include{./misc/thanx}
    \thispagestyle{empty}
    \cleardoublepage
    
    \include{./misc/self-assertion} 
    \thispagestyle{empty}
    \cleardoublepage
    
    
    \include{./misc/abstract}
    \thispagestyle{empty}
    \cleardoublepage
    \include{./misc/abstract_de}
    \thispagestyle{empty}
    \cleardoublepage
    
    % \setcounter{tocdepth}{2}
    \tableofcontents
    % \thispagestyle{empty}
    
    \listoffigures
    % \thispagestyle{empty}
    
    \listoftables
    % \thispagestyle{empty}
    
    \include{./misc/acronyms}
    % \thispagestyle{empty}
    
    \include{./misc/glossary}
    % \thispagestyle{empty}

    
    
% --------------------------------------------------------------

\mainmatter % comment single chapters for faster compilation
\parskip=2ex\relax
    \input{./chapters/chapter1}
    \input{./chapters/chapter2}
    % \input{./chapters/chapter3}
    \input{./chapters/chapter4}
    \input{./chapters/chapter5}
    \input{./chapters/chapter6}
    \input{./chapters/chapter7}

% ---------------------------------------------------------------
%\backmatter % no page numbering from here
		
		% if you want to provide a glossary with explanations of important terms put it in here
    
    \bibliographystyle{unsrtnat} %vancouver
    \bibliography{./bib/references}

% \backmatter
    \input{./misc/annex}


    


\end{document}
